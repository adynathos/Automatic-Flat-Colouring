The results generated from GMIC are as the following:

<img src="https://github.com/wenshuo128/Automatic-Flat-Colouring/blob/master/baseline/img/segment_line.png" width="499" alt="Original image"/> <img src="https://github.com/wenshuo128/Automatic-Flat-Colouring/blob/master/baseline/img/segment_region.png" width="499" alt="Original image"/>

Combining the image of colored region (img/segment_region.png) with colored image generated by Attentioned Deep Painting, we get a new color map:

<img src="https://github.com/wenshuo128/Automatic-Flat-Colouring/blob/master/baseline/img/result_from_ADP.png" width="499" alt="Original image"/> <img src="https://github.com/wenshuo128/Automatic-Flat-Colouring/blob/master/baseline/img/final_result_color.png" width="499" alt="Original image"/>

Combining the color map with the sketch, we get the baseline:

<div align=center><img src="https://github.com/wenshuo128/Automatic-Flat-Colouring/blob/master/baseline/img/final_result.png" width="499" alt="Original image"/>
  
<div align=left>
The result seems not good for two possible reasons:

1. The inappropriate parameters of the function fx_colorize_lineart_smart in GMIC lead to a rough segmentation.

2. The sketch has some gray pixels, which make the edges of the picture look like cracks.

To improve the baseline, we first use darken (min(r1,r2),min(g1,g2),min(b1,b2)) to Combining the color map with the sketch, and get the result:

<div align=center><img src="https://github.com/wenshuo128/Automatic-Flat-Colouring/blob/master/baseline/img/final_result_darken.png" width="499" alt="Original image"/>
  
<div align=left>
  
Also, we use lineart instead of sketch, and get the results as the following (original image, lineart, GMIC result, final result without darken, final result with darken):

<img src="https://github.com/wenshuo128/Automatic-Flat-Colouring/blob/master/baseline/img_sombulus_archive/7-11res100_c.png" width="199" alt="Original image"/> <img src="https://github.com/wenshuo128/Automatic-Flat-Colouring/blob/master/baseline/img_sombulus_archive/7-11res100_l.png" width="199" alt="Original image"/> <img src="https://github.com/wenshuo128/Automatic-Flat-Colouring/blob/master/baseline/img_sombulus_archive/color_result_1.png" width="199" alt="Original image"/> <img src="https://github.com/wenshuo128/Automatic-Flat-Colouring/blob/master/baseline/img_sombulus_archive/final_result_1.png" width="199" alt="Original image"/> <img src="https://github.com/wenshuo128/Automatic-Flat-Colouring/blob/master/baseline/img_sombulus_archive/final_result_darken_1.png" width="199" alt="Original image"/>
